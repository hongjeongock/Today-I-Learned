# 클래스와 Static

## static 키워드의 기본 개념과 필요성
 - static 키워드는 클래스 내부의 함수나 변수를 메인 함수에서 호출하거나 선언할 때 사용됨, 프로그램이 종료될 때까지 메모리에서 해제되지 않고 고정된 영역을 차지함 (정적 메모리 할당)

 - 동적 메모리(프로그램 실행 중 위치가 바뀌는 참조 타입)와 달리, static은 프로그램 종료 시까지 한 공간을 고정적으로 점유함 => 정적 개념이 존재하기 때문에 동적 개념도 구분됨

## static의 활용 예시와 특징
 - 게임 내 누적 점수처럼 프로그램이 종료될 때까지 변하지 않아야 하는 데이터에 static을 사용함 => 장면이 바뀌어도 값이 유지됨

 - 단순 변수뿐 아니라 클래스, 참조 타입, 메서드에도 static 선언 가능, 정적 메서드는 프로그램 내 어디서든 간편하게 호출 가능함

## static 사용 시 주의사항, 한계
 - static으로 선언된 요소는 프로그램 종료 시까지 메모리에 상주함 => 필요 이상으로 static을 남발하면 불필요한 메모리 낭비 발생
 - static은 편리하지만 잘못 사용하면 프로그램 효율성 저하 및 관리 어려움 초래함. 강한 힘에는 강한 책임이 따름


## static 키워드와 정적 메모리 관리

- 값 타입과 참조 타입의 메모리 할당 및 해제 원리
    - 값 타입과 참조 타입은 명시적으로 변수를 선언하거나 인스턴스를 생성할 때 메모리에 할당됨, 값 타입은 블록 범위 종료 시, 참조 타입은 더 이상 사용되지 않을 때 자동으로 해제됨 (가비지 컬렉션 등)
     - 특별한 상황이 아니라면 두 타입 모두 사용이 끝나면 메모리에서 해제됨, 이는 프로그래밍의 기본적인 메모리 관리 원리임

- static 키워드의 메모리 할당 특성과 전역 접근성
    - static으로 선언된 데이터는 최초 호출 시 데이터 영역에 할당됨 => 프로그램 종료 전까지 자동 해제되지 않음, 전역적으로 접근 가능함
    - 프로그램 관리 등 중추적 데이터나 편리한 참조, 호출을 위해 static 사용됨

- C# 내장 기능에서의 static 활용
    - C#의 메인 함수와 Console 클래스, WriteLine 메서드 등은 모두 static으로 선언되어 있음, F11로 선언 위치 확인 가능
    - static 클래스는 인스턴스 생성 불가 => 정적 변수 및 메서드만 가질 수 있음, 메모리에 항상 상주하므로 중복 생성 불필요

- 정적 생성자와 정적 클래스의 호출 시점
    - 정적 생성자는 static 변수나 메서드가 최초 호출될 때 1회만 실행됨, 일반 생성자와 달리 static 클래스에는 static 생성자만 존재 가능함
    - 정적 생성자에서 일반 변수 초기화 시 에러 발생, static 클래스 내 static 메서드에서 다른 static 변수 호출 가능함
     - static 생성자는 해당 클래스의 인스턴스 생성 또는 static 멤버 접근 시 최초 1회만 호출됨, 호출 시점 이해가 중요


## 키워드의 동작 원리, 생성자 활용법

- 스태틱 키워드의 장점과 주의점, 코드 유지보수 영향
    - 스태틱 멤버는 최초 호출 시점부터 메모리에 상주하게 되어 불필요한 메모리 점유 요소가 될 수 있음, 편리함에 의존해 과도하게 사용하면 객체 간 관계가 모호해지고 유지보수 시 연관 코드 대량 수정 필요 (코드 의존성 증가)

- 스태틱 생성자와 일반 생성자의 차이, 호출 시점
     - 스태틱 생성자는 클래스의 데이터를 처음 다룰 때 1회만 호출됨=> 일반 생성자와 달리 인스턴스 생성과 무관하게 동작 (클래스 단위 초기화 용도)
    - 스태틱 생성자 문법 및 사용법을 코드로 직접 확인 예정, 문법적 이해가 이번 강의 목표임

- 스태틱 필드와 인스턴스 필드의 차이, 접근 방식
    - 일반 필드는 인스턴스 생성 후 참조를 통해 접근해야 하며, new 할당 없이 접근 시 null reference exception 발생 (유효 메모리 주소 없음)
    - 스태틱 키워드가 붙은 변수는 프로그램 전역에서 클래스명만으로 접근 가능. 참조(인스턴스) 불필요, 전역적 데이터 공유 용이


## 게임 개발에서 static 키워드의 올바른 활용

- 스태틱 변수의 장점과 함정, 그리고 메모리 상주 문제
    - 스태틱 변수는 프로그램 어디서나 참조 없이 쉽게 접근 가능하여 사용이 매우 편리해 보임 (플레이어 체력 등 전역 데이터 접근 가능)
    - 하지만 스태틱 변수는 프로그램 종료 시까지 메모리에 계속 남아있음 => 플레이어가 사라져도 메모리 점유 (메인 타이틀, 결과창 등에서도 해제되지 않음)
    - 무분별한 스태틱 사용하면 불필요한 메모리 낭비로 이어짐. 필요 없는 상황에서도 메모리 상주

- 스태틱 변수의 적절한 사용 사례와 객체지향적 관점
    - 게임 내에서 반드시 하나만 존재해야 하고 빈번하게 사용되는 데이터(예: 토탈 스코어, 게임 배속 등)에 스태틱 사용 적합
    - 플레이어 캐릭터는 자주 사용되지만 전역적으로 필요하지 않음. 객체지향적으로는 유저에게만 기능 제공, 다른 객체와 상호작용
    - 스태틱 키워드는 필요할 때만 신중하게 사용해야 하며, 남용 시 오히려 코드 품질 저하 및 메모리 낭비 초래

- 스태틱 함수의 선언 및 활용 방식
    - 스태틱 함수는 객체 인스턴스 없이 클래스 이름만으로 접근 가능하다. 전역적으로 함수 호출 가능
    - 일반 함수는 인스턴스 생성 및 참조 필요, 스태틱 함수는 클래스 단위 접근으로 코드 간결화
    - 인터널 클래스와 스태틱 함수의 차이점은 추후 학습 예정이나, 스태틱 함수는 클래스 이름으로 직접 호출 가능


## static 키워드 활용과 메모리 관리, 변수 접근 방식

- static 함수와 변수의 개념 및 활용 배경
    - static 함수는 클래스 이름으로 직접 접근 가능. 예: Console.WriteLine은 Console 클래스의 static 함수임, 만약 static이 아니었다면 객체 생성 후 접근 필요함
    - 프로그램 내에서 자주 사용되는 기능은 static으로 미리 구성하는 경우 많음. 객체 생성 없이 바로 사용 가능
    - 외부 라이브러리(예: 유니티)에서도 static 함수와 클래스가 다수 존재. 반복적 기능 제공에 적합함 

- static 선언이 메모리에 미치는 영향과 사용 시 주의점
     - static 선언이 메모리에 미치는 영향은 미미함. 작은 단위 추가로 큰 변화 없음 
    - 무분별한 static 사용은 자제 필요함. 자주 쓰는 기능에 한정해 static 사용 권장함 
    - static 변수는 게임 전역 데이터 저장 등 전역적 관리에 유용함(싱글톤 패턴 등에서 활용)

- static 변수와 일반 변수의 접근 방식 및 차이점
    - static 변수는 클래스 이름으로 직접 접근 가능, 일반 변수는 객체(인스턴스) 생성 후 접근해야 함 
    - 클래스 내부에 static 변수와 일반 변수가 함께 있을 때, static 변수는 클래스 기준으로, 일반 변수는 인스턴스 기준으로 접근해야 함

- static 변수의 값 공유 특성과 실전 적용 방법
    - 여러 인스턴스가 생성되어도 static 변수는 하나의 값을 공유. 모든 인스턴스에서 동일한 값 확인 가능함 
    - static 변수의 동작 원리를 코드로 직접 실습하며 체화하는 것이 중요함.


## static 키워드와 클래스 설계, 메모리 할당

- static 변수와 클래스의 메모리 할당 및 값 공유 원리
     - static 변수는 인스턴스가 여러 개 생성되어도 같은 값을 공유함. 프로그램 실행 시 static 관련 클래스나 함수가 먼저 메모리 할당되는 것이 아니라, 처음 호출될 때 할당됨 (지연 할당)
     - static은 클래스 자체에 속하므로 인스턴스 생성 없이 접근 가능함, 하지만 인스턴스 생성이 불필요한 것은 아님 => 변수, 함수, 클래스 모두 static으로 선언 가능 
    - static 멤버는 모든 인스턴스가 동일한 값을 공유함을 디버깅을 통해 확인함 (Study1, Study2, Study3 등) 

- 정적(static)과 동적(dynamic) 메모리 할당의 차이 및 의미
    - 정적 할당은 메모리가 프로그램 실행 전 또는 최초 접근 시 할당되어 유지됨, 값은 자유롭게 변경 가능함 
    - 동적 할당은 프로그램 실행 중에 힙 메모리에 할당되며, 위치가 고정되지 않음 => new 키워드로 인스턴스 생성 시 동적 할당 발생
    - static 키워드가 붙은 참조타입 변수도 데이터 영역에 할당되지만, 동작 방식은 일반 참조타입과 다름 

- static 생성자와 일반 생성자의 호출 시점 및 동작 방식
    - static 생성자는 인스턴스 생성과 무관하게 static 필드나 함수에 처음 접근할 때 한 번만 호출됨 => 여러 인스턴스를 생성해도 static 생성자는 한 번만 호출됨
    - 일반 생성자는 인스턴스 생성 시마다 호출되며, static 생성자보다 나중에 실행됨 (static 생성자 => 일반 생성자 순)
    - static 생성자에서는 static 멤버만 접근 가능하고, 인스턴스 멤버에는 접근 불가 (컴파일 에러 발생) 

- static 클래스의 제약과 활용 목적, 실전 예시
    - static 클래스로 선언하면 내부 필드와 메서드도 모두 static이어야 하며, 인스턴스 생성 불가 => 기능 단위(유틸리티 등)로 사용 
    - 자주 사용하는 기능(예: 넓이 계산, 거리 판별 등)을 static 클래스로 미리 구현해두고 필요할 때마다 바로 사용 가능함 
    - static은 너무 빈번하게 사용하면 오히려 코드 품질 저하 우려, 꼭 필요한 경우에만 사용 권장 

